<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Namma Farm</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>

<body>
    <nav class="dashboard-nav">
        <div class="container">
            <div class="nav-content">
                <div class="logo">
                    <span class="logo-icon">üåæ</span>
                    <span class="logo-text" data-en="Namma Farm" data-ta="‡Æ®‡ÆÆ‡Øç‡ÆÆ ‡Æ™‡Æ£‡Øç‡Æ£‡Øà">Namma Farm</span>
                </div>
                <div class="nav-actions">
                    <button class="lang-toggle" onclick="toggleLanguage()">
                        <span id="langText">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</span>
                    </button>
                    <a href="dashboard.html" class="btn btn-sm btn-secondary" data-en="Dashboard"
                        data-ta="‡Æü‡Ææ‡Æ∑‡Øç‡Æ™‡Øã‡Æ∞‡Øç‡Æü‡ØÅ">Dashboard</a>
                    <button class="btn btn-sm btn-danger" onclick="logout()" data-en="Logout"
                        data-ta="‡Æµ‡ØÜ‡Æ≥‡Æø‡ÆØ‡Øá‡Æ±‡ØÅ">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="dashboard-container">
        <div class="container">
            <h1 data-en="Settings & Sensor Management" data-ta="‡ÆÖ‡ÆÆ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øç & ‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øç ‡ÆÆ‡Øá‡Æ≤‡Ææ‡Æ£‡Øç‡ÆÆ‡Øà">Settings & Sensor
                Management</h1>

            <div class="dashboard-grid">
                <!-- User Profile -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <span class="card-icon">üë§</span>
                        <h3 data-en="User Profile" data-ta="‡Æ™‡ÆØ‡Æ©‡Æ∞‡Øç ‡Æö‡ØÅ‡ÆØ‡Æµ‡Æø‡Æµ‡Æ∞‡ÆÆ‡Øç">User Profile</h3>
                    </div>
                    <div class="card-body" id="userProfile">
                        <div class="spinner"></div>
                    </div>
                </div>

                <!-- Sensor Management -->
                <div class="dashboard-card card-large">
                    <div class="card-header">
                        <span class="card-icon">üì°</span>
                        <h3 data-en="Registered Sensors" data-ta="‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü ‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øç‡Æï‡Æ≥‡Øç">Registered Sensors</h3>
                    </div>
                    <div class="card-body">
                        <div id="sensorList">
                            <div class="spinner"></div>
                        </div>

                        <button class="btn btn-primary mt-3" onclick="showAddSensorForm()" data-en="Add New Sensor"
                            data-ta="‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øà‡Æö‡Øç ‡Æö‡Øá‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç">
                            Add New Sensor
                        </button>

                        <div id="addSensorForm" class="hidden mt-3">
                            <h4 data-en="Register New Sensor" data-ta="‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øà‡Æ™‡Øç ‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æµ‡ØÅ‡ÆÆ‡Øç">Register New
                                Sensor</h4>
                            <form onsubmit="handleAddSensor(event)">
                                <div class="form-group">
                                    <label class="form-label" data-en="Sensor ID" data-ta="‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øç ID">Sensor
                                        ID</label>
                                    <input type="text" id="sensorId" class="form-input" placeholder="e.g., SENSOR_001"
                                        required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" data-en="Sensor Type" data-ta="‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øç ‡Æµ‡Æï‡Øà">Sensor
                                        Type</label>
                                    <select id="sensorType" class="form-select" required>
                                        <option value="moisture">Soil Moisture</option>
                                        <option value="nutrition">NPK Nutrition</option>
                                        <option value="fire">Fire/Smoke</option>
                                        <option value="temperature">Temperature</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" data-en="Sensor Name" data-ta="‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øç ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç">Sensor
                                        Name</label>
                                    <input type="text" id="sensorName" class="form-input"
                                        placeholder="e.g., Field 1 Moisture" required>
                                </div>
                                <button type="submit" class="btn btn-primary" data-en="Register Sensor"
                                    data-ta="‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øà‡Æ™‡Øç ‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æµ‡ØÅ‡ÆÆ‡Øç">Register Sensor</button>
                                <button type="button" class="btn btn-secondary" onclick="hideAddSensorForm()"
                                    data-en="Cancel" data-ta="‡Æ∞‡Æ§‡Øç‡Æ§‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç">Cancel</button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Settings -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <span class="card-icon">‚öôÔ∏è</span>
                        <h3 data-en="App Settings" data-ta="‡Æö‡ØÜ‡ÆØ‡Æ≤‡Æø ‡ÆÖ‡ÆÆ‡Øà‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øç">App Settings</h3>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="useFallback" onchange="updateFallbackSetting()">
                                <span data-en="Use online data when sensors unavailable"
                                    data-ta="‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡Ææ‡Æ§‡Æ™‡Øã‡Æ§‡ØÅ ‡ÆÜ‡Æ©‡Øç‡Æ≤‡Øà‡Æ©‡Øç ‡Æ§‡Æ∞‡Æµ‡Øà‡Æ™‡Øç ‡Æ™‡ÆØ‡Æ©‡Øç‡Æ™‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Æµ‡ØÅ‡ÆÆ‡Øç">
                                    Use online data when sensors unavailable
                                </span>
                            </label>
                        </div>

                        <div class="form-group">
                            <p data-en="Your User ID (for sensor configuration):"
                                data-ta="‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ÆØ‡Æ©‡Æ∞‡Øç ID (‡Æö‡ØÜ‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡ÆÆ‡Øà‡Æµ‡ØÅ‡Æï‡Øç‡Æï‡ØÅ):">
                                Your User ID (for sensor configuration):
                            </p>
                            <code id="userId"
                                style="background: var(--light-gray); padding: var(--spacing-sm); display: block; border-radius: var(--radius-sm);"></code>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script src="js/language.js"></script>
    <script src="js/settings.js"></script>
</body>

</html>